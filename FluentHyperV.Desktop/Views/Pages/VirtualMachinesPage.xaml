<Page
  x:Class="FluentHyperV.Desktop.Views.Pages.VirtualMachinesPage"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:FluentHyperV.Desktop.Views.Pages"
  xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
  xmlns:controls="clr-namespace:FluentHyperV.Desktop.Controls"
  xmlns:converters="clr-namespace:FluentHyperV.Desktop.Converters"
  xmlns:xf="clr-namespace:XamlFlair;assembly=XamlFlair.WPF"
  mc:Ignorable="d"
  d:DesignHeight="400"
  d:DesignWidth="600"
  Title="虚拟机管理"
  d:DataContext="{d:DesignInstance local:VirtualMachinesPage,
                                     IsDesignTimeCreatable=False}"
>
  <Page.Resources>
    <converters:VmStateToBrushConverter x:Key="VmStateToBrushConverter" />
    <converters:VmStateToChineseConverter x:Key="VmStateToChineseConverter" />
    <!-- 卡片样式 -->
    <Style x:Key="VirtualMachineCardStyle" TargetType="Border">
      <Setter Property="Background" Value="{DynamicResource ControlFillColorDefaultBrush}" />
      <Setter Property="BorderBrush" Value="{DynamicResource ControlStrokeColorSecondaryBrush}" />
      <Setter Property="BorderThickness" Value="1" />
      <Setter Property="CornerRadius" Value="8" />
      <Setter Property="Padding" Value="16" />
      <Setter Property="Margin" Value="8" />
      <Setter Property="Effect">
        <Setter.Value>
          <DropShadowEffect
            Color="{DynamicResource SystemAccentColorSecondary}"
            BlurRadius="8"
            ShadowDepth="2"
            Opacity="0.1"
          />
        </Setter.Value>
      </Setter>
      <Setter Property="RenderTransform">
        <Setter.Value>
          <ScaleTransform ScaleX="1" ScaleY="1" />
        </Setter.Value>
      </Setter>
      <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
      <Style.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter Property="Background" Value="{DynamicResource ControlFillColorSecondaryBrush}" />
          <Setter
            Property="BorderBrush"
            Value="{DynamicResource SystemAccentColorSecondaryBrush}"
          />
          <Setter Property="Effect">
            <Setter.Value>
              <DropShadowEffect
                Color="{DynamicResource SystemAccentColorSecondary}"
                BlurRadius="12"
                ShadowDepth="4"
                Opacity="0.25"
              />
            </Setter.Value>
          </Setter>
          <Trigger.EnterActions>
            <BeginStoryboard>
              <Storyboard>
                <DoubleAnimation
                  Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                  To="1.02"
                  Duration="0:0:0.2"
                >
                  <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseOut" />
                  </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation
                  Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                  To="1.02"
                  Duration="0:0:0.2"
                >
                  <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseOut" />
                  </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
              </Storyboard>
            </BeginStoryboard>
          </Trigger.EnterActions>
          <Trigger.ExitActions>
            <BeginStoryboard>
              <Storyboard>
                <DoubleAnimation
                  Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                  To="1.0"
                  Duration="0:0:0.2"
                >
                  <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseOut" />
                  </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation
                  Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                  To="1.0"
                  Duration="0:0:0.2"
                >
                  <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseOut" />
                  </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
              </Storyboard>
            </BeginStoryboard>
          </Trigger.ExitActions>
        </Trigger>
      </Style.Triggers>
    </Style>
    <!-- 状态指示器样式 -->
    <Style x:Key="StatusIndicatorStyle" TargetType="Border">
      <Setter Property="Width" Value="12" />
      <Setter Property="Height" Value="12" />
      <Setter Property="CornerRadius" Value="6" />
      <Setter Property="VerticalAlignment" Value="Center" />
      <Setter Property="Margin" Value="0,0,8,0" />
      <Setter Property="RenderTransform">
        <Setter.Value>
          <ScaleTransform ScaleX="1" ScaleY="1" />
        </Setter.Value>
      </Setter>
      <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
      <Style.Triggers>
        <DataTrigger Binding="{Binding State}" Value="Running">
          <DataTrigger.EnterActions>
            <BeginStoryboard>
              <Storyboard RepeatBehavior="Forever">
                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)">
                  <EasingDoubleKeyFrame KeyTime="0:0:0" Value="1.0" />
                  <EasingDoubleKeyFrame KeyTime="0:0:0.8" Value="1.2" />
                  <EasingDoubleKeyFrame KeyTime="0:0:1.6" Value="1.0" />
                </DoubleAnimationUsingKeyFrames>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)">
                  <EasingDoubleKeyFrame KeyTime="0:0:0" Value="1.0" />
                  <EasingDoubleKeyFrame KeyTime="0:0:0.8" Value="1.2" />
                  <EasingDoubleKeyFrame KeyTime="0:0:1.6" Value="1.0" />
                </DoubleAnimationUsingKeyFrames>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                  <EasingDoubleKeyFrame KeyTime="0:0:0" Value="1.0" />
                  <EasingDoubleKeyFrame KeyTime="0:0:0.8" Value="0.7" />
                  <EasingDoubleKeyFrame KeyTime="0:0:1.6" Value="1.0" />
                </DoubleAnimationUsingKeyFrames>
              </Storyboard>
            </BeginStoryboard>
          </DataTrigger.EnterActions>
        </DataTrigger>
      </Style.Triggers>
    </Style>
    <!-- 卡片头部样式 -->
    <Style x:Key="CardHeaderStyle" TargetType="TextBlock">
      <Setter Property="FontSize" Value="16" />
      <Setter Property="FontWeight" Value="SemiBold" />
      <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
      <Setter Property="Margin" Value="0,0,0,8" />
    </Style>
    <!-- 卡片信息样式 -->
    <Style x:Key="CardInfoLabelStyle" TargetType="TextBlock">
      <Setter Property="FontSize" Value="12" />
      <Setter Property="FontWeight" Value="Medium" />
      <Setter Property="Foreground" Value="{DynamicResource TextFillColorSecondaryBrush}" />
      <Setter Property="Margin" Value="0,0,4,0" />
    </Style>
    <Style x:Key="CardInfoValueStyle" TargetType="TextBlock">
      <Setter Property="FontSize" Value="12" />
      <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
    </Style>
    <!-- 快速操作按钮样式 -->
    <Style
      x:Key="QuickActionButtonStyle"
      TargetType="ui:Button"
      BasedOn="{StaticResource {x:Type ui:Button}}"
    >
      <Setter Property="RenderTransform">
        <Setter.Value>
          <ScaleTransform ScaleX="1" ScaleY="1" />
        </Setter.Value>
      </Setter>
      <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
      <Style.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Trigger.EnterActions>
            <BeginStoryboard>
              <Storyboard>
                <DoubleAnimation
                  Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                  To="1.1"
                  Duration="0:0:0.15"
                >
                  <DoubleAnimation.EasingFunction>
                    <BackEase EasingMode="EaseOut" Amplitude="0.3" />
                  </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation
                  Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                  To="1.1"
                  Duration="0:0:0.15"
                >
                  <DoubleAnimation.EasingFunction>
                    <BackEase EasingMode="EaseOut" Amplitude="0.3" />
                  </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
              </Storyboard>
            </BeginStoryboard>
          </Trigger.EnterActions>
          <Trigger.ExitActions>
            <BeginStoryboard>
              <Storyboard>
                <DoubleAnimation
                  Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                  To="1.0"
                  Duration="0:0:0.15"
                >
                  <DoubleAnimation.EasingFunction>
                    <BackEase EasingMode="EaseOut" />
                  </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation
                  Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                  To="1.0"
                  Duration="0:0:0.15"
                >
                  <DoubleAnimation.EasingFunction>
                    <BackEase EasingMode="EaseOut" />
                  </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
              </Storyboard>
            </BeginStoryboard>
          </Trigger.ExitActions>
        </Trigger>
      </Style.Triggers>
    </Style>
  </Page.Resources>
  <controls:PageContainer Header="虚拟机管理" HasPadding="True">
    <controls:PageContainer.ContainerContent>
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto" />
          <RowDefinition Height="*" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <!-- 工具栏 -->
        <Grid Grid.Row="0" Margin="0,0,0,20">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
          </Grid.ColumnDefinitions>
          <!-- 操作按钮组 -->
          <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left">
            <ui:Button
              Content="刷新"
              Icon="{ui:SymbolIcon ArrowClockwise24}"
              Command="{Binding ViewModel.RefreshCommand}"
              Margin="0,0,10,0"
            />
            <ui:Button
              Content="全选"
              Icon="{ui:SymbolIcon CheckboxChecked24}"
              Command="{Binding ViewModel.ToggleSelectAllCommand}"
              Margin="0,0,10,0"
            />
            <Separator
              Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}"
              Margin="0,0,10,0"
            />
            <ui:Button
              Content="启动"
              Icon="{ui:SymbolIcon Play24}"
              Command="{Binding ViewModel.StartVirtualMachineCommand}"
              IsEnabled="{Binding ViewModel.HasSelectedVirtualMachines}"
              Margin="0,0,10,0"
            />
            <ui:Button
              Content="停止"
              Icon="{ui:SymbolIcon Stop24}"
              Command="{Binding ViewModel.StopVirtualMachineCommand}"
              IsEnabled="{Binding ViewModel.HasSelectedVirtualMachines}"
              Margin="0,0,10,0"
            />
            <ui:Button
              Content="重启"
              Icon="{ui:SymbolIcon ArrowCounterclockwise24}"
              Command="{Binding ViewModel.RestartVirtualMachineCommand}"
              IsEnabled="{Binding ViewModel.HasSelectedVirtualMachines}"
              Margin="0,0,10,0"
            />
          </StackPanel>
          <!-- 加载状态 -->
          <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
            <ui:ProgressRing
              IsIndeterminate="True"
              Visibility="{Binding ViewModel.IsLoading, Converter={x:Static converters:ConverterInstance.BooleanToVisibility}}"
              Width="20"
              Height="20"
              Margin="0,0,10,0"
            />
            <TextBlock Text="{Binding ViewModel.StatusMessage}" VerticalAlignment="Center" />
          </StackPanel>
        </Grid>
        <!-- 虚拟机卡片列表 -->
        <ScrollViewer
          Grid.Row="1"
          VerticalScrollBarVisibility="Auto"
          HorizontalScrollBarVisibility="Disabled"
          xf:Animations.Primary="{StaticResource AnimationFadeInAndSlideFromBottom}"
        >
          <ItemsControl ItemsSource="{Binding ViewModel.VirtualMachines}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <!-- 虚拟机卡片 -->
                <Border
                  Style="{StaticResource VirtualMachineCardStyle}"
                  Width="320"
                  Height="280"
                  Tag="{Binding DataContext, RelativeSource={RelativeSource AncestorType=Page}}"
                  xf:Animations.Primary="{StaticResource AnimationFadeInAndSlideFromBottom}"
                  xf:Animations.AnimateOnLoad="True"
                  xf:Animations.InterElementDelay="100"
                >
                  <Border.InputBindings>
                    <MouseBinding
                      MouseAction="LeftDoubleClick"
                      Command="{Binding DataContext.ViewModel.ConnectToVirtualMachineCommand, RelativeSource={RelativeSource AncestorType=Page}}"
                    />
                  </Border.InputBindings>
                  <!-- 右键上下文菜单 -->
                  <Border.ContextMenu>
                    <ContextMenu
                      DataContext="{Binding PlacementTarget.Tag, RelativeSource={RelativeSource Self}}"
                      Opened="ContextMenu_Opened"
                    >
                      <MenuItem
                        Header="启动虚拟机"
                        Icon="{ui:SymbolIcon Play24}"
                        Command="{Binding ViewModel.StartVirtualMachineCommand}"
                      />
                      <MenuItem
                        Header="停止虚拟机"
                        Icon="{ui:SymbolIcon Stop24}"
                        Command="{Binding ViewModel.StopVirtualMachineCommand}"
                      />
                      <MenuItem
                        Header="重启虚拟机"
                        Icon="{ui:SymbolIcon ArrowCounterclockwise24}"
                        Command="{Binding ViewModel.RestartVirtualMachineCommand}"
                      />
                      <Separator />
                      <MenuItem
                        Header="暂停虚拟机"
                        Icon="{ui:SymbolIcon Pause24}"
                        Command="{Binding ViewModel.PauseVirtualMachineCommand}"
                      />
                      <MenuItem
                        Header="恢复虚拟机"
                        Icon="{ui:SymbolIcon PlayCircle24}"
                        Command="{Binding ViewModel.ResumeVirtualMachineCommand}"
                      />
                      <Separator />
                      <MenuItem
                        Header="创建检查点"
                        Icon="{ui:SymbolIcon Save24}"
                        Command="{Binding ViewModel.CreateCheckpointCommand}"
                      />
                      <MenuItem
                        Header="连接到虚拟机"
                        Icon="{ui:SymbolIcon Desktop24}"
                        Command="{Binding ViewModel.ConnectToVirtualMachineCommand}"
                      />
                      <Separator />
                      <MenuItem
                        Header="设置"
                        Icon="{ui:SymbolIcon Settings24}"
                        Command="{Binding ViewModel.ShowVirtualMachineSettingsCommand}"
                      />
                      <MenuItem
                        Header="删除虚拟机"
                        Icon="{ui:SymbolIcon Delete24}"
                        Foreground="Red"
                        Command="{Binding ViewModel.DeleteVirtualMachineCommand}"
                      />
                      <Separator />
                      <MenuItem
                        Header="刷新列表"
                        Icon="{ui:SymbolIcon ArrowClockwise24}"
                        Command="{Binding ViewModel.RefreshCommand}"
                      />
                    </ContextMenu>
                  </Border.ContextMenu>
                  <Grid>
                    <Grid.RowDefinitions>
                      <RowDefinition Height="Auto" />
                      <RowDefinition Height="*" />
                      <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <!-- 卡片头部 -->
                    <Grid Grid.Row="0">
                      <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                      </Grid.ColumnDefinitions>
                      <!-- VM 名称 -->
                      <TextBlock
                        Grid.Column="0"
                        Text="{Binding Name}"
                        Style="{StaticResource CardHeaderStyle}"
                      />
                      <!-- 选择框 -->
                      <CheckBox
                        Grid.Column="1"
                        IsChecked="{Binding IsSelected, Mode=TwoWay}"
                        VerticalAlignment="Top"
                        Margin="0,2,0,0"
                      />
                    </Grid>
                    <!-- 卡片内容 -->
                    <StackPanel Grid.Row="1">
                      <!-- 状态行 -->
                      <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <StackPanel
                          Grid.Column="0"
                          Orientation="Horizontal"
                          VerticalAlignment="Center"
                        >
                          <Border
                            Style="{StaticResource StatusIndicatorStyle}"
                            Background="{Binding State, Converter={StaticResource VmStateToBrushConverter}}"
                          />
                          <TextBlock Text="状态：" Style="{StaticResource CardInfoLabelStyle}" />
                        </StackPanel>
                        <TextBlock
                          Grid.Column="1"
                          Text="{Binding State, Converter={StaticResource VmStateToChineseConverter}}"
                          Style="{StaticResource CardInfoValueStyle}"
                          VerticalAlignment="Center"
                        />
                      </Grid>
                      <!-- 处理器信息 -->
                      <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Orientation="Horizontal">
                          <TextBlock
                            Text="🔧 处理器："
                            Style="{StaticResource CardInfoLabelStyle}"
                          />
                        </StackPanel>
                        <TextBlock
                          Grid.Column="1"
                          Text="{Binding ProcessorCount}"
                          Style="{StaticResource CardInfoValueStyle}"
                        />
                      </Grid>
                      <!-- 内存信息 -->
                      <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Orientation="Horizontal">
                          <TextBlock Text="💾 内存：" Style="{StaticResource CardInfoLabelStyle}" />
                        </StackPanel>
                        <TextBlock
                          Grid.Column="1"
                          Text="{Binding MemoryAssigned, Converter={x:Static converters:ConverterInstance.BytesToFormat}}"
                          Style="{StaticResource CardInfoValueStyle}"
                        />
                      </Grid>
                      <!-- 动态内存 -->
                      <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Orientation="Horizontal">
                          <TextBlock
                            Text="⚡ 动态内存："
                            Style="{StaticResource CardInfoLabelStyle}"
                          />
                        </StackPanel>
                        <TextBlock
                          Grid.Column="1"
                          Text="{Binding DynamicMemoryEnabled, Converter={x:Static converters:ConverterInstance.BoolToString}, ConverterParameter=已启用|已禁用}"
                          Style="{StaticResource CardInfoValueStyle}"
                        />
                      </Grid>
                      <!-- 创建时间 -->
                      <Grid>
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Orientation="Horizontal">
                          <TextBlock
                            Text="🕒 创建时间："
                            Style="{StaticResource CardInfoLabelStyle}"
                          />
                        </StackPanel>
                        <TextBlock
                          Grid.Column="1"
                          Text="{Binding CreationTime, Converter={x:Static converters:ConverterInstance.DateTimeToString}}"
                          Style="{StaticResource CardInfoValueStyle}"
                          TextWrapping="Wrap"
                        />
                      </Grid>
                    </StackPanel>
                    <!-- 卡片底部操作按钮 -->
                    <Grid Grid.Row="2" Margin="0,12,0,0">
                      <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                      </Grid.ColumnDefinitions>
                      <!-- VM ID (小字体) -->
                      <TextBlock
                        Grid.Column="0"
                        Text="{Binding Id}"
                        FontSize="10"
                        Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                        TextTrimming="CharacterEllipsis"
                        VerticalAlignment="Center"
                        ToolTip="{Binding Id}"
                      />
                      <!-- 快速操作按钮 -->
                      <ui:Button
                        Grid.Column="1"
                        Icon="{ui:SymbolIcon Play24}"
                        Appearance="Secondary"
                        Style="{StaticResource QuickActionButtonStyle}"
                        Width="32"
                        Height="32"
                        Margin="4,0,0,0"
                        ToolTip="启动"
                        Click="StartButton_Click"
                      />
                      <ui:Button
                        Grid.Column="2"
                        Icon="{ui:SymbolIcon Stop24}"
                        Appearance="Secondary"
                        Style="{StaticResource QuickActionButtonStyle}"
                        Width="32"
                        Height="32"
                        Margin="4,0,0,0"
                        ToolTip="停止"
                        Click="StopButton_Click"
                      />
                      <ui:Button
                        Grid.Column="3"
                        Icon="{ui:SymbolIcon Desktop24}"
                        Appearance="Secondary"
                        Style="{StaticResource QuickActionButtonStyle}"
                        Width="32"
                        Height="32"
                        Margin="4,0,0,0"
                        ToolTip="连接"
                        Click="ConnectButton_Click"
                      />
                    </Grid>
                  </Grid>
                </Border>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </ScrollViewer>
        <!-- 状态栏 -->
        <!--<Border
          Grid.Row="2"
      Background="{DynamicResource ControlFillColorSecondaryBrush}"
      CornerRadius="4"
      Padding="10,5"
      Margin="0,20,0,0"
    >
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        <TextBlock
          Grid.Column="0"
          Text="{Binding ViewModel.StatusMessage}"
          VerticalAlignment="Center"
        />
        <TextBlock
          Grid.Column="1"
          VerticalAlignment="Center"
        >
          <TextBlock.Text>
            <MultiBinding StringFormat="共 {0} 台虚拟机，已选中 {1} 台">
              <Binding Path="ViewModel.VirtualMachines.Count"/>
              <Binding Path="ViewModel.SelectedVirtualMachinesCount"/>
            </MultiBinding>
          </TextBlock.Text>
        </TextBlock>
        </Grid>
        </Border>-->
      </Grid>
    </controls:PageContainer.ContainerContent>
  </controls:PageContainer>
</Page>
